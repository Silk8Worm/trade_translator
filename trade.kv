#:include backtest.kv
#:include tradetranslator.kv
#:include popup.kv

<Trade>:
    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 140

            BoxLayout:
                padding: [20,0,0,0]
                orientation: 'horizontal'
                Image:
                    source: 'logo.png'
                    size_hint_y: None
                    height: 130
                    allow_stretch: True
                    keep_ratio: True
                BoxLayout:

            Label:
                text: 'Trade Translator'
                font_size: 60
                halign: 'left'

            BoxLayout:
                orientation: 'vertical'

                BoxLayout:
                    size_hint_y: None
                    height: 80

                BoxLayout:
                    orientation: 'horizontal'
                    padding: [0,0,30,0]

                    Label:

                    Button:
                        text: 'Account'
                        font_size: 15
                        background_color: 0,.3,.8,1
                        halign: 'right'
                        size_hint_y: None
                        height: 70

                        on_release: root.account()

                BoxLayout:

        GridLayout:
            cols: 2
            height: 550
            padding: [0,-30,0,30]

            BoxLayout:
                orientation: 'vertical'
                padding: [30, 0, 15, -30]

                BoxLayout:
                    orientation: 'horizontal'
                    padding: [15,0,0,15]

                    Label:
                        text_size: self.size
                        text: 'Signal'
                        font_size: 24
                        size_hint_y: None
                        height: 40

                TextInput:
                    id: signal
                    multiline:True
                    font_size: 28
                    on_text: root.on_text(self, self.text)


            BoxLayout:
                orientation: 'vertical'
                padding: [30, 0, 30, -30]

                BoxLayout:
                    orientation: 'horizontal'
                    padding: [15,0,0,15]

                    Label:
                        text_size: self.size
                        text: 'Trade'
                        font_size: 24
                        size_hint_y: None
                        height: 40

                TextInput:
                    id: trade
                    multiline:True
                    font_size: 28
                    on_text: root.on_text(self, self.text)

            BoxLayout:
                orientation: 'vertical'
                padding: [30, 0, 15, -30]

                BoxLayout:
                    orientation: 'horizontal'
                    padding: [15,0,0,15]

                    Label:
                        text_size: self.size
                        text: 'Cover Signal'
                        font_size: 24
                        size_hint_y: None
                        height: 40

                TextInput:
                    id: cover_signal
                    multiline:True
                    font_size: 28
                    on_text: root.on_text(self, self.text)

            BoxLayout:
                orientation: 'vertical'
                padding: [30, 0, 30, -30]

                BoxLayout:
                    orientation: 'horizontal'
                    padding: [15,0,0,15]

                    Label:
                        text_size: self.size
                        text: 'Universe'
                        font_size: 24
                        size_hint_y: None
                        height: 40

                TextInput:
                    id: universe
                    multiline:True
                    font_size: 28
                    on_text: root.on_text(self, self.text)

            BoxLayout:
                orientation: 'horizontal'

                BoxLayout:
                    orientation: 'vertical'
                    padding: [30,0,15,-30]

                    BoxLayout:
                        orientation: 'horizontal'
                        padding: [15,0,0,15]

                        Label:
                            text_size: self.size
                            text: 'Take Profit'
                            font_size: 24
                            size_hint_y: None
                            height: 40

                    TextInput:
                        id: take_profit
                        multiline:True
                        font_size: 28
                        on_text: root.on_text(self, self.text)

                BoxLayout:
                    orientation: 'vertical'
                    padding: [30,0,15,-30]

                    BoxLayout:
                        orientation: 'horizontal'
                        padding: [15,0,0,15]

                        Label:
                            text_size: self.size
                            text: 'Stop Loss'
                            font_size: 24
                            size_hint_y: None
                            height: 40

                    TextInput:
                        id: stop_loss
                        multiline:True
                        font_size: 28
                        on_text: root.on_text(self, self.text)

            BoxLayout:
                orientation: 'vertical'
                padding: [30, 0, 30, -30]

                BoxLayout:
                    orientation: 'horizontal'
                    padding: [15,0,0,15]

                    Label:
                        text_size: self.size
                        text: 'Cover Trade'
                        font_size: 24
                        size_hint_y: None
                        height: 40

                TextInput:
                    id: cover_trade
                    multiline:True
                    font_size: 28
                    on_text: root.on_text(self, self.text)

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 100

            Label:
                font_size: 18
            Label:
                font_size: 18

            BoxLayout:
                padding: [30,20,30,20]
                Button:
                    text: 'Backtest Case'
                    font_size: 18
                    background_color: 0,.3,.8,1

                    on_release: root.backtest_case(signal.text, trade.text, cover_signal.text, universe.text, take_profit.text, stop_loss.text, cover_trade.text)

            BoxLayout:
                padding: [30,20,30,20]
                Button:
                    text: 'Backtest'
                    font_size: 18
                    background_color: 0,.3,.8,1

                    on_release: root.backtest(signal.text, trade.text, cover_signal.text, universe.text, take_profit.text, stop_loss.text, cover_trade.text)
