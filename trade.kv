#:include backtest.kv

<Trade>:
    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            orientation: 'horizontal'
            size_hint: (1, .15)

            BoxLayout:
                orientation: 'horizontal'

                Image:
                    source: 'logo.png'
                    size: self.texture_size
                    halign: 'left'
                    allow_stretch: True

                Label:
                    text: ''

            Label:
                text: 'Trade Translator'
                font_size: 30
                halign: 'left'

            BoxLayout:
                orientation: 'horizontal'
                Label:
                    text: ''

                Button:
                    text: 'Account'
                    font_size: 15
                    background_color: 0,.3,.8,1
                    halign: 'right'

                    on_release: root.account()
        GridLayout:
            cols: 2
            padding: [20,20,20,20]

            Label:
                text: 'Signal'
                font_size: 18
                halign: 'left'


            Label:
                text: 'Trade'
                font_size: 18
                halign: 'left'

            TextInput:
                id: signal
                multiline:False
                font_size: 28

            TextInput:
                id: trade
                multiline:False
                font_size: 28

            Label:
                text: 'Cover Signal'
                font_size: 18
                halign: 'left'

            Label:
                text: 'Universe'
                font_size: 18
                halign: 'left'

            TextInput:
                id: cover_signal
                multiline:False
                font_size: 28

            TextInput:
                id: universe
                multiline:False
                font_size: 28

            GridLayout:
                cols: 2

                Label:
                    text: 'Take Profit'
                    font_size: 18
                    halign: 'left'

                Label:
                    text: 'Stop Loss'
                    font_size: 18
                    halign: 'left'

            Label:
                text: 'Cover Trade'
                font_size: 18
                halign: 'left'

            GridLayout:
                cols: 2

                TextInput:
                    id: take_profit
                    multiline:False
                    font_size: 28

                TextInput:
                    id: stop_loss
                    multiline:False
                    font_size: 28

            TextInput:
                id: cover_trade
                multiline:False
                font_size: 28

            Label:
                text: ''

            BoxLayout:
                orientation: 'horizontal'
                padding: [20,20,20,20]

                Button:
                    text: 'Backtest Case'
                    font_size: 18
                    background_color: 0,.3,.8,1

                    on_release: root.backtest_case(signal.text, trade.text, cover_signal.text, universe.text, take_profit.text, stop_loss.text, cover_trade.text)

                Button:
                    text: 'Backtest'
                    font_size: 18
                    background_color: 0,.3,.8,1

                    on_release: root.backtest(signal.text, trade.text, cover_signal.text, universe.text, take_profit.text, stop_loss.text, cover_trade.text)
